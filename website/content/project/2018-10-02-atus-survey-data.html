---
title: Atus Time Use Survey Analysis
author: Tiana Bell
date: '2018-10-02'
slug: atus-survey-data
categories:
  - R
  - survey data
  - data analysis
tags:
  - R
  - dataviz
  - analysis
summary: 'Analysis of 2016 American Time Use Survey (ATUS) Data'
image_preview: 'bubbles.jpg'
header:
  image: 'bubbles.jpg'
---



<div id="intro-background" class="section level1">
<h1>Intro &amp; Background</h1>
<p>This survey was created to test our cohort’s strengths in data visualization, data wrangling and data tidying. The American Time Use Survey is a public survey which enlists how Americans use their time in liesure, work and extra curricular activities. This data can be used in a variety of cross analysis’ and formats for companies within and outside of the United States.</p>
</div>
<div id="data" class="section level1">
<h1>Data</h1>
<p>The American Time Use Survey (ATUS) is a time-use survey of Americans, which is sponsored by the Bureau of Labor Statistics (BLS) and conducted by the U.S. Census Bureau. Respondents of the survey are asked to keep a diary for one day carefully recording the amount of time they spend on various activities including working, leisure, childcare, and household activities. The survey has been conducted every year since 2003.</p>
<p>You can find the data dictionaries for each year on <a href="https://www.bls.gov/tus/dictionaries.htm" class="uri">https://www.bls.gov/tus/dictionaries.htm</a></p>
<pre class="r"><code>#load data from data files onto the workspace
atus.cps &lt;- read.delim(&#39;/cloud/project/website/content/project/atus_survey/raw_data/atuscps_2016.dat&#39;, sep=&quot;,&quot;)
atus.sum &lt;- read.delim(&#39;/cloud/project/website/content/project/atus_survey/raw_data/atussum_2016.dat&#39;, sep=&quot;,&quot;)
# joining both files together by respondents&#39; ID
atus.all &lt;- atus.sum %&gt;%
  left_join(atus.cps %&gt;% filter(TULINENO==1), by = c(&quot;TUCASEID&quot;))</code></pre>
</div>
<div id="exploratory-data-analysis" class="section level1">
<h1>Exploratory Data Analysis</h1>
<pre class="r"><code>## write out al columns up to t030112 for sum of CHILDCARE column.
atus.all &lt;- atus.all %&gt;% 
  mutate(CHILDCARE = t030101 + t030102 + t030103 + t030104 + t030105 + t030106 + t030108 + t030109 + t030110 + t030111 + t030112 %&gt;%
           glimpse(CHILDCARE))</code></pre>
<pre class="r"><code>#exclude all missing factors
## replace -1 in the variable TRDPFTPT with NA.
  atus.all$TRDPFTPT[atus.all$TRDPFTPT == -1] &lt;- NA %&gt;%
  sum(is.na(atus.all$TRDPFTPT))##take this away, filter once done. 
grep(&quot;TRHHCHILD&quot;,names(atus.all))</code></pre>
<pre><code>## integer(0)</code></pre>
<pre class="r"><code>#find the amount of missing values in the column
sum(is.na(atus.all$TRDPFTPT))</code></pre>
<pre><code>## [1] 4119</code></pre>
<pre class="r"><code>class(atus.all$TRYHHCHILD)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>We need to create a universal table so that we can continue to wrangle the data efficiently; in the second code chunk I am removing unecessary, or missing, data.</p>
</div>
<div id="analysis-approach" class="section level1">
<h1>Analysis Approach</h1>
<p>In this analysis we are choosing to hone in on how respondents’ spend time with their children. I am interested in family and home interactions and the different dynamics that in turn either allow or revoke certain interactions based on each respondents’ demographics. There have not been many analysis’ on how people spend time with their children. Most findings are not as unusual.</p>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<p>We asked different questions to work through some of the data. The results are as follows:</p>
<div id="results-1" class="section level2">
<h2>Results 1</h2>
<p>Do younger people spend more time with their children than the older generation?</p>
<pre class="r"><code>## do younger people spend more time with children than older people.
adults_atLeast_one_kid &lt;- atus.all %&gt;%
  select(CHILDCARE, TEAGE, TRYHHCHILD, HEFAMINC, TRCHILDNUM, PEMARITL, TRDPFTPT, TESEX) %&gt;%
       filter(TRCHILDNUM &gt;  0)

 ggplot(adults_atLeast_one_kid, aes(x = TEAGE, y = CHILDCARE)) +
      geom_point(aes(color = factor(TEAGE)), size = 0.5) +
      theme(legend.position = &quot;none&quot;) +
      labs( x = &quot;RESPONDENT&#39;S AGE \n years&quot;, y = &quot;CHILDCARE \n minutes per week&quot;, title = &quot;Do younger people spend more time with \n their children than older people?&quot;)</code></pre>
<p><img src="/project/2018-10-02-atus-survey-data_files/figure-html/exploratory-analysis-1.png" width="672" />
Looking at the graph one can argue that younger adults spend more time with children than the older generation. * Since our data set are respondents between the ages 17 to around 85, our dividing(median) age is 50. By looking at the chart you can see that individuals below 50 spend more time with their children than those older than them. It is also colored by respondents’ age.</p>
<p>** Note that this data only includes respondents with at least one child within the household that they take care of. And this variable will stay constant for the next three graphs!**
## Results 2</p>
<pre class="r"><code>## do affluent people spend more time with children than non-affluent
      ggplot(adults_atLeast_one_kid, aes(x = HEFAMINC, y = CHILDCARE, col = TESEX )) +
      geom_point(aes(color = factor(TEAGE), ), size = 1) +
      theme(legend.position = &quot;none&quot;) +
      labs( x = &quot;FAMILY INCOME \n tens of thousands&quot;, y = &quot;CHILDCARE \n minutes per week&quot;, title = &quot;Do affluent respondents spend more time with \n their children than non-affluent respondents?&quot;)</code></pre>
<p><img src="/project/2018-10-02-atus-survey-data_files/figure-html/exploratory-analysis%202-1.png" width="672" />
In this graph we can see that a respondent’s income* does not necessarily affect the amount of time spent with their respective child, other than the obvious outliers within each tax bracket. Although you can see a slight rise, or peak, after the 12th tax bracket! The colors are by age.</p>
<p>* Income key:
+ 1 Less than $5,000
+ 2 $5,000 to $7,499
+ 3 $7,500 to $9,999
+ 4 $10,000 to $12,499
+ 5 $12,500 to $14,999
+ 6 $15,000 to $19,999
+ 7 $20,000 to $24,999
+ 8 $25,000 to $29,999
+ 9 $30,000 to $34,999
+ 10 $35,000 to $39,999
+ 11 $40,000 to $49,999
+ 12 $50,000 to $59,999
+ 13 $60,000 to $74,999
+ 14 $75,000 to $99,999
+ 15 $100,000 to $149,999
+ 16 $150,000 and over
*Note that income is based on household, not individual respondent.*</p>
</div>
<div id="results-3" class="section level2">
<h2>Results 3</h2>
<pre class="r"><code>## select 
atus.wide &lt;- atus.all %&gt;%
    mutate(act01 = rowSums(atus.all[,grep(&quot;t01&quot;, names(atus.all))]),
           act02 = rowSums(atus.all[,grep(&quot;t02&quot;, names(atus.all))]),
           act03 = rowSums(atus.all[,grep(&quot;t03&quot;, names(atus.all))]),
           act04 = rowSums(atus.all[,grep(&quot;t04&quot;, names(atus.all))]),
           act05 = rowSums(atus.all[,grep(&quot;t05&quot;, names(atus.all))]),
           act06 = rowSums(atus.all[,grep(&quot;t06&quot;, names(atus.all))]),
           act07 = rowSums(atus.all[,grep(&quot;t07&quot;, names(atus.all))]),
           act08 = rowSums(atus.all[,grep(&quot;t08&quot;, names(atus.all))]),
           act09 = rowSums(atus.all[,grep(&quot;t09&quot;, names(atus.all))]),
           act10 = rowSums(atus.all[,grep(&quot;t10&quot;, names(atus.all))]),
           act11 = rowSums(atus.all[,grep(&quot;t11&quot;, names(atus.all))]),
           act12 = rowSums(atus.all[,grep(&quot;t12&quot;, names(atus.all))]),
           act13 = rowSums(atus.all[,grep(&quot;t13&quot;, names(atus.all))]),
           act14 = rowSums(atus.all[,grep(&quot;t14&quot;, names(atus.all))]),
           act15 = rowSums(atus.all[,grep(&quot;t15&quot;, names(atus.all))]),
           act16 = rowSums(atus.all[,grep(&quot;t16&quot;, names(atus.all))]),
           # act17 = , there is no category 17 in the data
           act18 = rowSums(atus.all[,grep(&quot;t18&quot;, names(atus.all))])) %&gt;% 
    select(TUCASEID, TEAGE, HEFAMINC, starts_with(&quot;act&quot;)) %&gt;%
  rename(&quot;Traveling&quot;= act18, &quot;Telephone Calls and Use&quot; = act16, &quot;Volunteer Activities&quot; = act15, &quot;Religious Activities&quot; = act14, &quot;Exercise and Recreation Activities&quot; = act13, &quot;Leisure Activities&quot; = act12, &quot;Eating or Drinking&quot; = act11, &quot;Civil Obligations&quot; = act10, &quot;Household Services&quot; = act09, &quot;Professional Personal Care Services&quot; = act08, &quot;Consumer Purchases&quot; = act07, &quot;Education&quot; = act06, &quot;Work Related Activities&quot; = act05, &quot;Caring for NHH Members&quot; = act04, &quot;Caring for HH Members&quot; = act03, &quot;Houshold Activities&quot; = act02, &quot;Personal Care&quot; = act01)

    head(atus.wide)</code></pre>
<pre class="r"><code>df.long &lt;- atus.wide %&gt;% 
  # use code to convert the wide format to long.
              gather(ACTIVITY, MINS, `Personal Care`:Traveling)

head(df.long)</code></pre>
<pre><code>##      TUCASEID TEAGE HEFAMINC      ACTIVITY MINS
## 1 2.01601e+13    62        3 Personal Care  715
## 2 2.01601e+13    69        6 Personal Care  620
## 3 2.01601e+13    24        4 Personal Care 1060
## 4 2.01601e+13    31        8 Personal Care  655
## 5 2.01601e+13    59       13 Personal Care  580
## 6 2.01601e+13    16        5 Personal Care  620</code></pre>
<pre class="r"><code># Plot for average amount of time spent by age!
# pull from the desired data set, in this case we are working with df.long
df.long %&gt;%      
# follow the instructions and grouby() Activity and age
    group_by(ACTIVITY, TEAGE) %&gt;%
# calculate the average amount of time people spend on each activity
    summarise(AVGMINS = mean(MINS)) %&gt;% 
# Plot the graph!  
    ggplot(aes(x = TEAGE, y = AVGMINS)) +
        geom_point() +
        geom_smooth(method = &quot;loess&quot;) +
        facet_wrap(~ ACTIVITY) +
        labs( title = &quot;Average amount of time spent \n per person&#39;s age&quot;) +
        theme(text = element_text(size=18),
        axis.text.x = element_text(angle=90, hjust=1))</code></pre>
<p><img src="/project/2018-10-02-atus-survey-data_files/figure-html/age-activity-1.png" width="672" /></p>
<p>We were asked to plot the respondent’s age against the average amount of time for each activity provided! We are asked the question : Which categories does the average time spent vary by age?</p>
<p>In this plot we can see that activities Personal Care, Work Related Activities, and Leisure Activities, vary by age!</p>
</div>
<div id="results-4" class="section level2">
<h2>Results 4</h2>
<pre class="r"><code>activity_by_income &lt;-df.long %&gt;% 
  group_by(ACTIVITY, HEFAMINC) %&gt;% 
  ## add the rest of the code here
  summarise(AVGMINS_WRK = mean(MINS)) %&gt;%
  #create new colummn to set y-axis equal from 0 to 1 for proportions 
  mutate(SumMins = sum(AVGMINS_WRK)) %&gt;%
  #divide the new column by the average to create percentafe proportions
  mutate(AvgSumMins = AVGMINS_WRK/SumMins)%&gt;%
  #plot the graph
  ggplot(aes(x = ACTIVITY,y = AvgSumMins, fill = factor(HEFAMINC))) +
    geom_bar(stat = &quot;identity&quot;) +
      # scale_fill_brewer(palette = &quot;Paired&quot;) +
        scale_fill_hue(h = c(150, 390)) +
     # color_ramp_palette(c(&quot;red&quot;, &quot;yellow&quot;)) +
        coord_flip() +
         labs(title = &quot;Amount of time spent on activities \n by income&quot;)

activity_by_income</code></pre>
<p><img src="/project/2018-10-02-atus-survey-data_files/figure-html/activity-income-1.png" width="672" />
In this graph I was trying to imitate what Henrik Lindberg did in his analysis of Income distributions in America’s pastimes <a href="https://raw.githubusercontent.com/halhen/viz-pub/master/pastime-income/pastime.png" class="uri">https://raw.githubusercontent.com/halhen/viz-pub/master/pastime-income/pastime.png</a>. I am able to properly graph, but I am unable to get the proportions correctly!</p>
</div>
</div>
